<div class="col-lg-8 offset-lg-4" *ngIf="loading">
    <div class="spinner-grow text-muted"></div>
    <div class="spinner-grow text-muted"></div>
    <div class="spinner-grow text-muted"></div>
    <div class="spinner-grow text-muted"></div>
    <div class="spinner-grow text-muted"></div>
    <div class="spinner-grow text-muted"></div>
    <div class="spinner-grow text-muted"></div>
</div>
<div class="alert alert-danger" *ngIf="errorOccured">
    <strong>une erreur est survenue</strong>
</div>
<div class="alert alert-success" *ngIf="updated">
    <strong>critique presse modifiée</strong>
</div>
<div class="alert alert-danger" *ngIf="ficheFilmTab && !loading && !ficheFilmTab.length">
    <strong>pas de critique presse disponible</strong>
</div>
<div class="row" *ngIf="ficheFilmTab && !loading && ficheFilmTab.length">
    <div class="col-sm-3 offset-md-4">
        <div class="card ">
            <span class="row"><span class="col">critique presse sélectionnée : </span><span
                    class="col"><b>{{film.allocineFicheFilmId}}</b></span></span>
            <span class="row"><span class="col">nombre de critiques presse disponible : </span><span
                    class="col"><b>{{ficheFilmTab.length}}</b></span></span>
        </div>
    </div>
    <div class="col-lg-12">
        <div class="column" >
            <table class="table table-bordered table-striped">
                <thead>
                    <tr>
                      <th>Titre</th>
                      <th>url</th>
                      <th>allocineFilmId</th>
                      <th>allocineFicheFilmId</th>
                      <th>critiques presse</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let ficheFilm of ficheFilmTab">
                        <td>
                            {{ficheFilm.title}}
                        </td>
                        <td>
                            {{ficheFilm.url}}
                        </td>
                        <td>
                            {{ficheFilm.allocineFilmId}}
                        </td>
                        <td>
                            {{ficheFilm.id}}
                        </td>
                        <td>
                            <table class="table table-bordered table-striped">
                                <thead>
                                    <tr>
                                      <th>newsSource</th>
                                      <th>rating</th>
                                      <th>author</th>
                                      <th>body</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let critiquePresse of ficheFilm.critiquePresse">
                                        <td>
                                            {{critiquePresse.newsSource}}
                                        </td>
                                        <td>
                                            {{critiquePresse.rating}}
                                        </td>
                                        <td>
                                            {{critiquePresse.author}}
                                        </td>
                                        <td>
                                            {{critiquePresse.body}}
                                        </td>
                                    </tr>
                                </tbody>
                              </table>
                        </td>
                        <td>
                            <button class="btn btn-primary" (click)="choose(ficheFilm.id)" [disabled]="buttonDisabled">Sélectionner</button><br /><br/>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>